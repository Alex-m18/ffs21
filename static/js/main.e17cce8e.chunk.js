(this.webpackJsonpgo2cinema=this.webpackJsonpgo2cinema||[]).push([[0],{63:function(e,t,a){e.exports=a.p+"static/media/background.54f4d941.jpg"},64:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAMAAABrrFhUAAABnlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////aMUgUAAAAiXRSTlMAAQIDBAUGBwgJCgsMDQ4PERMUFRcYGRscHR8gISIjJSYnKistLi8wMjM0OD9AQUNFR0lKTU9QUlRWV1hbXGFiZmdrbG1vcHFzdHV3eXt+f4CIiYuMjpKVmJqeoKKjpaaoqquvsLK0t7m6vL7AwcPFyszOz9PV2tze4OLk5ujp6+3v8fP19/n7/QNGy6MAAAdiSURBVHja5d0JW5RVGMbxMwzIoqKYpraapeaCtu9llhVuWVm2qFmplalFlmLmgkMCz7eOTYKYmfcsz3Kfw/kC9/n9Hby83nEG5wJPV1//yhUO8tR6VvX31iUHnjxwaYJmzh9Hn+2Ewvft/eLm7NUa37++QWbiwzFaeCZProfhb/1p0dXoxsvsL4T6EC09p1ZC8DcNL71a4znejcduU7Mz8TzAT/7Rplejy5x/Om9Qq3OyZuzv/rXV1ca2sI0cptbnfN3Uv2qkzd12M40cp3bnF8sCq2+1vduggt+0QIWfp0CV37BApZ+jQLXfrICHP72Aj9+ogJc/tYCf36SApz+tgK/foIC3P6WAv1+9QIA/vkCIX7lAkD+2QJhftUCgP65AqF+xQLA/pkC4X61AhD+8QIxfqUCUP7RAnF+lQKQ/rECsX6FAtD+kQLxfvECC379Aip/oYh3V71sgzS9aINHvVyDVL1gg2e9TIN0vVoDBX12Awy9UgMVfVYDHL1KAyd++AJdfoACbv10BPj97AUZ/6wKcfuYCrP5WBXj9rAWY/c0LcPsZC7D7mxXg97MVEPAvLSDhZyog4ifas2jkMBFqASE/0a4FI28SoRYQ89PkI/MjjxKhFpDzE93pnhup3ybUApJ+orNzKx8RgRaQ9RNtm1npJQItIO2nazMzBwm0gLif6JmpmVqDMAso+On01M4TRJAFNPxEXc69S5AFdPy0xbmLhFhAyU/vODdOgAW0/PSl6yTCK6Dmp9/l/xUQUUDPT7fcaoIroOincddHaAU0/XTXdRFYAVU//encJFYBXT+dcm5YdZB+riP56T25p2FRBbT9tMO57YRTQN1Pvc7VJ2AK6PsvTc+eIJAC+v7ZZ+PrCKOAgf9ux8zy1xAFDPz0wux07zhAAQv/8IMPPQ6SeQEL/8TA/Pxn1gUs/AvfH619Z1vAxL9/4Suw44JlARP/0OK/gywLIPgtC2D47Qqg+K0KbITxGxUgHP+yKTDU+nnEsigw1O6J1DIoMNT+mWTxBYaqnkoXXqDSX3gBD3/RBbz8BRfw9BdbwNtfaIFDIf9DpcACQf4CCwT6iysQ7C+sQIS/qAJR/oIKRPqLKRDtL6RAgr+IAkn+Agok+rMvkOzPvACDP+sCLP6MCzD5sy3A5s+0wGHnlnUBVn+GBZj92RVg92dWQMCfVQERf0YFhPzZFBDzZ1JA0J9FAVF/BgWE/fAFxP3gBRT80AVU/MAFlPywBdT8oAUU/ZAFVP2ABZT9cAXU/WAFDPxQBUz8QAWM/DAFzPwgBQz9EAVM/QAFjP3mBcz9xgUA/KYFIPyGBUD8ZgVg/M49bOFvdML4TT7/XPmtXMX7YQqY+UEKGPohCpj6AQoY+80LmPuNCwD4TQtA+A0LgPjNCsD4jQoA+U0KQPkNCoD51QvA+ZULAPpVC/Qj+hULgPrVCsD6lQoA+1UKQPsVCoD7xQvA+4ULZOAXLZCFX7BAJn6xAtn4hQpk5BcpkJVfoEBmfvYC2fmZC/Tfzs7PWiBLP2OBTP1sBbL1MxXI2M9SIGs/Q4HM/ckFsvcnFijAn1SgCH9CgUL80QWK8UcWKMgfVaAof0SBwvzBBYrzBxYo0B9UoEh/QIFC/d4FivV7FijY71WgaL9HgcL9lQWK91cUWAb+tgWWhb9NARP/PZwCJv4j9QsoBWz81r/1296PUsDOj1FgtaHfqkDHAn/PDUu/UYGztfn92m+2fqMCH8/PH7P2GxXYNTe+2d5vU2B07ks4hgH8NgVmv4ZlK4TfpMBk9/Twjxh+kwJvT832ofgtCoxMre6B8VsUWOvc5zh+gwJ7nBsB8k8VOK97naOuBuVXL3DOdWP5tQtcdyvB/MoFGm4Vml+3wH3XA+dXLfCXq+P5NQtcdm4Uz69Y4FPnvgX06xV4xblXEf1qBTY69xCkX6nAP9PPBa9D+nUKHJ8eehHTr1Jg/cxOA9OvUOCH2Z19oH75AgNzOxdB/dIF3n8w09sA9csWuPTfW0OPT4L6JQvc7FkwsxPVL1dgdM2imd2ofqkCowP/m9mN6pcpsMQvUYDJL1GgiZ+/AJufv0BTP3cBRj93gRZ+3gKsft4CLf2cBZj9nAXa+PkKsPv5CrT1cxUQ8HMVqPDzFBDx8xSo9HMUEPJzFPDwpxcQ86cX8PKnFhD0pxbw9KcVEPVPFTin4E8pIOxPKRDgjy8g7o8vEOSPLaDgjy0Q6I8roOKPKxDsjymg5I8pEOEPL6DmDy8Q5Q8toOgPLRDpDyug6g8rEO0PKaDsDymQ4PcvoO73L5Dk9y1g4PctkOj3K2Di9yuQ7PcpYOT3KcDgry5g5q8uwOKvKmDoryrA5Hdue5t3zw8401P7pvXVbq5hm9nU6qPFk/uc9TnSyn+5h3FlxZmmG1fXmfud23G36d0O1nhntl1b+iP2Ug3A71znoaU/oucG+HeePr1o4sreDgj+9Ol+a9Enn+5/skFmp+up/V9dvTMxeu3MBzv7YPSzZ+3gsQsjY+N/Xznx2uaQF+a/fKV+5r/Xn/8AAAAASUVORK5CYII="},66:function(e,t,a){e.exports=a.p+"static/media/background.00a1e8b6.jpg"},70:function(e,t,a){e.exports=a(93)},75:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(39),o=a.n(c),l=(a(75),a(6)),i=(a(80),a(22)),s=a(8),u=(a(81),a(63)),d=a.n(u),p=a(1),m=a(20);a(82);function E(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))}function _(e){var t=e.title,a=e.onClick,n=e.className,c=e.children;return r.a.createElement("button",{className:n,type:"button",tabIndex:0,onClick:a,onKeyPress:function(e){"Enter"===e.key&&a()}},t,c)}_.defaultProps={onClick:function(){},title:null,className:"acceptin-button",children:null};var f=a(24),O=a(64),b=a.n(O),S=(a(83),function(e){var t=e.title,a=e.submitTitle,n=e.onClose,c=e.onChange,o=e.onSubmit,l=e.fields,i=function(e){var t=e.target,a=t.name,n=t.value;c(a,n)};return r.a.createElement("div",{className:"popup active"},r.a.createElement("div",{className:"popup__container"},r.a.createElement("div",{className:"popup__content"},r.a.createElement("div",{className:"popup__header"},r.a.createElement("h2",{className:"popup__title"},t,r.a.createElement("span",{className:"popup__dismiss",role:"button",tabIndex:0,onClick:n,onKeyPress:function(e){"Enter"===e.key&&n()}},r.a.createElement("img",{src:b.a,alt:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})))),r.a.createElement("div",{className:"popup__wrapper"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o()},acceptCharset:"utf-8"},l.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.title},"message"===e.type&&e.title.split(String.fromCharCode(10)).map((function(e){return r.a.createElement("p",{className:"conf-step__paragraph",key:Object(f.a)()},e)})),["text","number"].includes(e.type)&&r.a.createElement("label",{className:"conf-step__label conf-step__label-fullsize",htmlFor:e.name,key:e.name},e.title,r.a.createElement("input",{className:"conf-step__input",type:e.type,placeholder:e.placeholder||"",name:e.name,onChange:i,value:e.value,required:e.required,max:e.max,min:e.min,step:e.step})),"datetime-local"===e.type&&r.a.createElement("label",{className:"conf-step__label conf-step__label-fullsize",htmlFor:e.name,key:e.name},e.title,r.a.createElement("input",{className:"conf-step__input",type:e.type,name:e.name,onChange:i,value:e.value,required:e.required,step:e.step})),"file"===e.type&&r.a.createElement("label",{className:"conf-step__label conf-step__label-fullsize",htmlFor:e.name,key:e.name},e.title,r.a.createElement("input",{className:"conf-step__input",type:e.type,name:e.name,onChange:function(t){return function(e,t){var a=t.maxSize,n=t.onChange;n&&e.target.files[0]&&(a&&e.target.files[0].size>a?e.target.value="":n(e.target.files))}(t,e)},value:e.value,files:e.files,required:e.required,accept:e.accept,multiple:e.multiple})),"option"===e.type&&r.a.createElement("label",{className:"conf-step__label conf-step__label-fullsize",htmlFor:e.name,key:e.name},e.title,r.a.createElement("select",{className:"conf-step__input",name:e.name,required:e.required,onChange:i},e.options.map((function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.title)})))))})),r.a.createElement("div",{className:"conf-step__buttons text-center"},r.a.createElement("input",{type:"submit",value:a,className:"conf-step__button conf-step__button-accent"}),r.a.createElement(_,{className:"conf-step__button conf-step__button-regular",onClick:n},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")))))))});S.defaultProps={onClose:function(){},onChange:function(){},onSubmit:function(){},submitTitle:"OK",fields:[]};var A=S;function v(e){var t=e.title,a=function(e){e.currentTarget.classList.toggle("conf-step__header_closed"),e.currentTarget.classList.toggle("conf-step__header_opened")};return r.a.createElement("header",{className:"conf-step__header conf-step__header_closed",role:"button",onClick:a,onKeyPress:function(e){"Enter"===e.key&&a(e)},tabIndex:0},r.a.createElement("h2",{className:"conf-step__title"},t))}v.defaultProps={title:""};var g=v;var h=Object(l.b)((function(e){return Object(p.a)({},e.hallsControl)}),(function(e){return{onFormShow:function(){return e({type:"ADMIN_HALLS_ADD_FORM_SHOW"})},onFormClose:function(){return e({type:"ADMIN_HALLS_ADD_FORM_HIDE"})},onFormChange:function(t){return e(function(e){return{type:"ADMIN_HALLS_ADD_FORM_CHANGE",payload:e}}(t))},onRemoveFormShow:function(){return e({type:"ADMIN_HALLS_REMOVE_FORM_SHOW"})},onRemoveFormClose:function(){return e({type:"ADMIN_HALLS_REMOVE_FORM_HIDE"})},onRemoveFormChange:function(t){return e(function(e){return{type:"ADMIN_HALLS_REMOVE_FORM_CHANGE",payload:e}}(t))}}}))((function(e){var t=e.halls,a=e.onAdd,n=e.onRemove,c=e.addFormData,o=e.showAddForm,l=e.onFormShow,i=e.onFormClose,s=e.onFormChange,u=e.removeFormData,d=e.showRemoveForm,p=e.onRemoveFormShow,f=e.onRemoveFormClose,O=e.onRemoveFormChange;return r.a.createElement("section",{className:"conf-step"},r.a.createElement(g,{title:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043b\u0430\u043c\u0438"}),r.a.createElement("div",{className:"conf-step__wrapper"},r.a.createElement("p",{className:"conf-step__paragraph"},"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0437\u0430\u043b\u044b:"),t.loading&&r.a.createElement(E,null),!t.loadingError&&!t.loading&&t.data&&r.a.createElement("ul",{className:"conf-step__list"},t.data.map((function(e){return r.a.createElement("li",{key:e.title},e.title,!e.removing&&r.a.createElement(_,{className:"conf-step__button conf-step__button-trash",onClick:function(){return a=e.id,void(t.data.find((function(e){return e.id===a})).sale?alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u041d\u0435\u043b\u044c\u0437\u044f \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043b, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0436\u0438"):(O({id:a,title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043b \xab".concat(t.data.find((function(e){return e.id===a})).title,"\xbb?\n      \u0412\u0441\u0435 \u0441\u0435\u0430\u043d\u0441\u044b \u0432 \u044d\u0442\u043e\u043c \u0437\u0430\u043b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u044b, \u0430 \u0432\u0441\u0435 \u043f\u0440\u043e\u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e\u0442 \u0437\u0430\u043b \u0431\u0443\u0434\u0443\u0442 \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u044b!")}),p()));var a}}),e.removing&&". \u0423\u0434\u0430\u043b\u044f\u0435\u043c...",e.removingError&&" \u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f")})),t.adding&&r.a.createElement("li",{key:"hall_adding"},"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c..."),t.addingError&&r.a.createElement("li",{key:"hall_adding"},"\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f")),r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",onClick:l,title:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043b"})),o&&r.a.createElement(A,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043b\u0430",fields:[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043b\u0430",type:"text",name:"title",value:c.title,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \xab\u0417\u0430\u043b 1\xbb",required:!0}],submitTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043b",onChange:function(e,t){return s(Object(m.a)({},"".concat(e),t))},onSubmit:function(){""!==c.title&&(a(c),i())},onClose:i}),d&&r.a.createElement(A,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043b\u0430",fields:[{title:u.title,type:"message",name:"id",value:u.id}],submitTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onSubmit:function(){n(u.id),f()},onClose:f}))}));function N(e){var t=e.groupName,a=e.title,n=e.data,c=e.checked,o=e.onChange,l=function(e){o(e.target.value)};return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("p",{className:"conf-step__paragraph"},a),r.a.createElement("ul",{className:"conf-step__selectors-box"},n&&n.map((function(e){return r.a.createElement("li",{key:Object(f.a)()},r.a.createElement("input",{type:"radio",className:"conf-step__radio",name:t,onChange:l,value:e.id,checked:e.id===c}),r.a.createElement("span",{className:"conf-step__selector"},e.title))}))))}N.defaultProps={title:null,data:[],onChange:function(){}};var y=N;var j={standart:"vip",vip:"disabled",disabled:"standart"};function C(e){var t=e.halls,a=e.onUpdate,c=e.hall,o=e.hallID,l=e.onChangeHall,i=e.states,s=e.onChangeStates,u=e.getStates,d=e.updateStates,O=e.clearUpdateSucces,b=e.loading,S=e.loadingError,A=e.updating,v=e.updatingError,h=e.updatingSuccess;Object(n.useEffect)((function(){return h&&setTimeout(O,1e3),function(){}}),[h,O]),Object(n.useEffect)((function(){return t.data.length?t.data.map((function(e){return e.id})).includes(o)?l(t.data.find((function(e){return e.id===o}))):l(t.data[0]):l(),function(){}}),[t,t.data,o,l]);var N=Object(n.useCallback)((function(){if(!c)return[];for(var e=[],t=1;t<=c.rows;t+=1)for(var a=function(a){var n=100*t+a,r=i.find((function(e){return e.number===n}));r?e.push(r):e.push({number:n,row:t,column:a,type:"standart",hallID:c.id})},n=1;n<=c.cols;n+=1)a(n);return e}),[c,i]);Object(n.useEffect)((function(){return c&&s(N()),function(){}}),[c,s]);var C=Object(n.useCallback)((function(){o&&""!==o&&u(o)}),[o,u]);Object(n.useEffect)((function(){return C(),function(){}}),[o,C,u]);var I=function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r;try{r=Number.parseInt(n,10)}catch(o){return}l(Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},a,r)))}},D=function(e){if(!c.sale){var t;try{t=Number.parseInt(e.target.getAttribute("number"),10)}catch(a){return}t&&s(i.map((function(e){return e.number===t?Object(p.a)(Object(p.a)({},e),{},{type:j[e.type]}):e})))}},M=[];if(c&&i)for(var T=function(e){M.push(i.filter((function(t){return t.row===e})))},L=1;L<=c.rows;L+=1)T(L);return r.a.createElement("section",{className:"conf-step"},r.a.createElement(g,{title:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0437\u0430\u043b\u043e\u0432"}),r.a.createElement("div",{className:"conf-step__wrapper"},t&&t.data&&c&&r.a.createElement(y,{groupName:"chairs-hall",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043b \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:",data:t.data,checked:o,onChange:function(e){l(t.data.find((function(t){return t.id===e})))}}),c&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"conf-step__paragraph"},"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0440\u044f\u0434\u043e\u0432 \u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u0440\u0435\u0441\u0435\u043b \u0432 \u0440\u044f\u0434\u0443:"),r.a.createElement("div",{className:"conf-step__legend"},r.a.createElement("label",{className:"conf-step__label"},"\u0420\u044f\u0434\u043e\u0432, \u0448\u0442",r.a.createElement("input",{type:"text",className:"conf-step__input",placeholder:"10",name:"rows",value:c.rows,onChange:I,disabled:c.sale})),r.a.createElement("span",{className:"multiplier"},"x"),r.a.createElement("label",{className:"conf-step__label"},"\u041c\u0435\u0441\u0442, \u0448\u0442",r.a.createElement("input",{type:"text",className:"conf-step__input",placeholder:"8",name:"cols",value:c.cols,onChange:I,disabled:c.sale}))),r.a.createElement("p",{className:"conf-step__paragraph"},"\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0438\u043f\u044b \u043a\u0440\u0435\u0441\u0435\u043b \u043d\u0430 \u0441\u0445\u0435\u043c\u0435 \u0437\u0430\u043b\u0430:"),r.a.createElement("div",{className:"conf-step__legend"},r.a.createElement("span",{className:"conf-step__chair conf-step__chair_standart"}),"\u2014 \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u0440\u0435\u0441\u043b\u0430",r.a.createElement("span",{className:"conf-step__chair conf-step__chair_vip"}),"\u2014 VIP \u043a\u0440\u0435\u0441\u043b\u0430",r.a.createElement("span",{className:"conf-step__chair conf-step__chair_disabled"}),"\u2014 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 (\u043d\u0435\u0442 \u043a\u0440\u0435\u0441\u043b\u0430)",r.a.createElement("p",{className:"conf-step__hint"},"\u0427\u0442\u043e\u0431\u044b \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u0438\u0434 \u043a\u0440\u0435\u0441\u043b\u0430, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u043e \u043d\u0435\u043c\u0443 \u043b\u0435\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438")),r.a.createElement("div",{className:"conf-step__hall"},r.a.createElement("div",{className:"conf-step__hall-wrapper"},b&&!S&&r.a.createElement(E,null),!b&&S&&"\u041e\u0448\u0438\u0431\u043a\u0430",!b&&!S&&c&&i&&M.map((function(e){return r.a.createElement("div",{className:"conf-step__row",key:Object(f.a)()},e.map((function(e){return r.a.createElement("span",{className:"conf-step__chair conf-step__chair_".concat(e.type),number:e.number,key:Object(f.a)(),role:"button",onClick:D,onKeyPress:function(e){"Enter"===e.key&&D(e)},tabIndex:0})})))})))),r.a.createElement("fieldset",{className:"conf-step__buttons text-center"},r.a.createElement(_,{className:"conf-step__button conf-step__button-regular",title:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:C}),r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",onClick:function(){t.data.find((function(e){return e.id===o})).sale?alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u041d\u0435\u043b\u044c\u0437\u044f \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043b, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0436\u0438"):A||(c&&a(c),i&&d(i))}},A&&!v&&"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c...",!A&&!h&&!v&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",h&&!v&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",v&&"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435")))))}C.defaultProps={halls:null,hall:null,onUpdate:function(){},loadingError:null,updatingError:null};var I=Object(l.b)((function(e){return Object(p.a)({},e.seats)}),(function(e){return{onChangeHall:function(t){return e(function(e){return{type:"ADMIN_SEATS_CHANGE_HALL",payload:e}}(t))},onChangeStates:function(t){return e(function(e){return{type:"ADMIN_SEATS_CHANGE_STATES",payload:e}}(t))},getStates:function(t){return e(function(e){return{type:"ADMIN_SEATS_REQUEST",payload:e}}(t))},updateStates:function(t){return e({type:"ADMIN_SEATS_UPDATE_REQUEST",payload:t})},clearUpdateSucces:function(){return e({type:"ADMIN_SEATS_UPDATE_SUCCESS_CLEAR"})}}}))(C);function D(e){var t=e.halls,a=e.onUpdate,c=e.hall,o=e.hallID,l=e.onChangeHall;Object(n.useEffect)((function(){return t.data.length?t.data.map((function(e){return e.id})).includes(o)?l(t.data.find((function(e){return e.id===o}))):l(t.data[0]):l(),function(){}}),[t,o,l]);var i=function(e){l(t.data.find((function(t){return t.id===e})))},s=function(e){var t=e.target,a=t.name,n=t.value;if(""!==n){var r;try{r=Number.parseInt(n,10)}catch(o){return}l(Object(p.a)(Object(p.a)({},c),{},Object(m.a)({},a,r)))}};return r.a.createElement("section",{className:"conf-step"},r.a.createElement(g,{title:"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0446\u0435\u043d"}),r.a.createElement("div",{className:"conf-step__wrapper"},t&&t.data&&c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y,{groupName:"prices-hall",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043b \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438:",data:t.data,checked:o,onChange:i}),r.a.createElement("p",{className:"conf-step__paragraph"},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0446\u0435\u043d\u044b \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432 \u043a\u0440\u0435\u0441\u0435\u043b:"),r.a.createElement("div",{className:"conf-step__legend"},r.a.createElement("label",{className:"conf-step__label"},"\u0426\u0435\u043d\u0430, \u0440\u0443\u0431\u043b\u0435\u0439",r.a.createElement("input",{type:"text",className:"conf-step__input",placeholder:"0",name:"price",value:c.price,onChange:s,disabled:c.sale})),"\u0437\u0430",r.a.createElement("span",{className:"conf-step__chair conf-step__chair_standart"}),"\u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u0440\u0435\u0441\u043b\u0430"),r.a.createElement("div",{className:"conf-step__legend"},r.a.createElement("label",{className:"conf-step__label"},"\u0426\u0435\u043d\u0430, \u0440\u0443\u0431\u043b\u0435\u0439",r.a.createElement("input",{type:"text",className:"conf-step__input",placeholder:"0",name:"priceVip",value:c.priceVip,onChange:s,disabled:c.sale})),"\u0437\u0430",r.a.createElement("span",{className:"conf-step__chair conf-step__chair_vip"}),"VIP \u043a\u0440\u0435\u0441\u043b\u0430"),r.a.createElement("fieldset",{className:"conf-step__buttons text-center"},r.a.createElement(_,{className:"conf-step__button conf-step__button-regular",title:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:function(){return i(o)}}),r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",onClick:function(){t&&t.updating||c&&a(c)}},t.updating&&!t.updatingError&&"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c...",!t.updating&&!t.updatingSuccess&&!t.updatingError&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",t.updatingSuccess&&!t.updatingError&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",t.updatingError&&"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435")))))}D.defaultProps={halls:null,hall:null,onUpdate:function(){}};var M=Object(l.b)((function(e){return Object(p.a)({},e.prices)}),(function(e){return{onChangeHall:function(t){return e({type:"ADMIN_PRICES_CHANGE_HALL",payload:t})}}}))(D),T=a(10),L=a(27),F=a(2),R=a.n(F),U=["#caff85","#85ff89","#85ffd3","#85e2ff","#8599ff","#ba85ff","#ff85fb","#ff85b1","#ffa285"];var k=Object(l.b)((function(e){return{movies:e.movies,seances:e.seances}}),(function(e){return{getMovies:function(){return e({type:"ADMIN_MOVIES_REQUEST",payload:t});var t},onAddMovieFormShow:function(){return e({type:"ADMIN_MOVIES_ADD_FORM_SHOW"})},onAddMovieFormHide:function(){return e({type:"ADMIN_MOVIES_ADD_FORM_HIDE"})},onAddMovieFormChange:function(t){return e(function(e){return{type:"ADMIN_MOVIES_ADD_FORM_CHANGE",payload:e}}(t))},addMovie:function(t){return e(function(e){return{type:"ADMIN_MOVIES_ADD",payload:e}}(t))},saveMovies:function(t){return e(function(e){return{type:"ADMIN_MOVIES_SAVE_REQUEST",payload:e}}(t))},loadingMoviesSuccessClear:function(){return e({type:"ADMIN_MOVIES_SUCCESS_CLEAR"})},saveMoviesSuccessClear:function(){return e({type:"ADMIN_MOVIES_SAVE_SUCCESS_CLEAR"})},onRemoveMovieFormShow:function(){return e({type:"ADMIN_MOVIES_REMOVE_FORM_SHOW"})},onRemoveMovieFormHide:function(){return e({type:"ADMIN_MOVIES_REMOVE_FORM_HIDE"})},onRemoveMovieFormChange:function(t){return e(function(e){return{type:"ADMIN_MOVIES_REMOVE_FORM_CHANGE",payload:e}}(t))},onMovieRemove:function(t){return e(function(e){return{type:"ADMIN_MOVIES_REMOVE",payload:e}}(t))},getSeances:function(){return e({type:"ADMIN_SEANCES_REQUEST",payload:t});var t},onAddSeanceFormShow:function(){return e({type:"ADMIN_SEANCES_ADD_FORM_SHOW"})},onAddSeanceFormHide:function(){return e({type:"ADMIN_SEANCES_ADD_FORM_HIDE"})},onAddSeanceFormChange:function(t){return e(function(e){return{type:"ADMIN_SEANCES_ADD_FORM_CHANGE",payload:e}}(t))},addSeance:function(t){return e(function(e){return{type:"ADMIN_SEANCES_ADD",payload:e}}(t))},saveSeances:function(t){return e(function(e){return{type:"ADMIN_SEANCES_SAVE_REQUEST",payload:e}}(t))},saveSeancesSuccessClear:function(){return e({type:"ADMIN_SEANCES_SAVE_SUCCESS_CLEAR"})},onRemoveSeanceFormShow:function(){return e({type:"ADMIN_SEANCES_REMOVE_FORM_SHOW"})},onRemoveSeanceFormHide:function(){return e({type:"ADMIN_SEANCES_REMOVE_FORM_HIDE"})},onRemoveSeanceFormChange:function(t){return e(function(e){return{type:"ADMIN_SEANCES_REMOVE_FORM_CHANGE",payload:e}}(t))},onSeanceRemove:function(t){return e(function(e){return{type:"ADMIN_SEANCES_REMOVE",payload:e}}(t))},onSeancesChangeDate:function(t){return e(function(e){return{type:"ADMIN_SEANCES_CHANGE_DATE",payload:e}}(t))}}}))((function(e){var t=e.halls,a=e.movies,c=e.getMovies,o=e.onAddMovieFormShow,l=e.onAddMovieFormHide,i=e.onAddMovieFormChange,s=e.addMovie,u=e.saveMovies,d=e.loadingMoviesSuccessClear,E=e.saveMoviesSuccessClear,O=e.onRemoveMovieFormShow,b=e.onRemoveMovieFormHide,S=e.onRemoveMovieFormChange,v=e.onMovieRemove,h=e.seances,N=e.getSeances,y=e.onAddSeanceFormShow,j=e.onAddSeanceFormHide,C=e.onAddSeanceFormChange,I=e.addSeance,D=e.saveSeances,M=e.saveSeancesSuccessClear,F=e.onRemoveSeanceFormShow,k=e.onRemoveSeanceFormHide,H=e.onRemoveSeanceFormChange,P=e.onSeanceRemove,V=e.onSeancesChangeDate,w=function(){c()};Object(n.useEffect)((function(){return a.loadingSuccess?(N(),d(),function(){}):function(){}}),[a]),Object(n.useEffect)((function(){return w(),function(){}}),[]),Object(n.useEffect)((function(){return a.savingSuccess?(D(h.data.filter((function(e){return!t.data.find((function(t){return t.id===e.hallID})).sale})).filter((function(e){return!e.id||e.removed}))),setTimeout((function(){return E()}),1e3),function(){}):function(){}}),[a]),Object(n.useEffect)((function(){return h.savingSuccess?(setTimeout((function(){return M()}),1e3),function(){}):function(){}}),[h]);var x=function(e){return function(t,a){return e(Object(m.a)({},"".concat(t),a))}},Q=x(i),K=x(C),z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return function(){Object(L.a)(Object.values(e)).every((function(e){return""!==e}))&&t(e)&&a()}},G=z(a.addForm.data,(function(e){return!!e&&(a.data.map((function(e){return e.title})).includes(e.title)?(alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u0424\u0438\u043b\u044c\u043c \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0443\u0436\u0435 \u0435\u0441\u0442\u044c"),!1):(s(e),!0))}),l),B=z(h.addForm.data,(function(e){if(!e)return!1;var t=a.data.find((function(t){return t.id===e.movieID})),n=R()(e.date,R.a.HTML5_FMT.DATETIME_LOCAL);return R()().isAfter(n)?(alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0435\u0430\u043d\u0441 \u0432 \u043f\u0440\u043e\u0448\u043b\u043e\u043c"),!1):h.data.filter((function(t){return t.hallID===e.hallID})).every((function(e){var r=a.data.find((function(t){return t.id===e.movieID})),c=R()(e.date);return n.diff(c,"minutes")>=r.duration||n.diff(c,"minutes")<=-t.duration}))?(I(e),!0):(alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u0421\u0435\u0430\u043d\u0441 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c"),!1)}),j),J=function(e){e?t.data.length?(C({movieID:e,hallID:t.data[0].id}),y()):alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u043b\u044b"):alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f")},Y=function(e){H({data:{seance:e,title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043d\u044f\u0442\u044c \u0441 \u0441\u0435\u0430\u043d\u0441\u0430 \u0444\u0438\u043b\u044c\u043c \xab".concat(a.data.find((function(t){return t.id===e.movieID})).title,"\xbb?")}}),F()},q=Object(n.useState)(1440),W=Object(T.a)(q,2),X=W[0],Z=W[1];Object(n.useEffect)((function(){if(!h.data.length)return function(){};var e=h.data.filter((function(e){return!e.removed})).filter((function(e){return R()(e.date).isBetween(h.date,R()(h.date).add(1,"day"),void 0,"[)")})).reduce((function(e,t){var n=R()(t.date).diff(R()(h.date),"minutes")+a.data.find((function(e){return e.id===t.movieID})).duration;return n>e?n:e}),1440);return Z(e),function(){}}),[h]);var $=Object(n.useState)({}),ee=Object(T.a)($,2),te=ee[0],ae=ee[1];return Object(n.useEffect)((function(){if(!a.data.length)return function(){};var e=0;return ae(a.data.reduce((function(t,a){return Object(p.a)(Object(p.a)({},t),{},Object(m.a)({},"".concat(a.title),U[e++%U.length]))}),{})),function(){}}),[a]),r.a.createElement("section",{className:"conf-step"},r.a.createElement(g,{title:"\u0421\u0435\u0442\u043a\u0430 \u0441\u0435\u0430\u043d\u0441\u043e\u0432"}),r.a.createElement("div",{className:"conf-step__wrapper"},r.a.createElement("p",{className:"conf-step__paragraph"},r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",onClick:o})),r.a.createElement("p",{className:"conf-step__paragraph",style:{marginTop:"0px"}},"\u0414\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0444\u0438\u043b\u044c\u043c\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u043e \u043d\u0435\u043c\u0443 \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043c\u044b\u0448\u0438"),r.a.createElement("div",{className:"conf-step__movies"},a&&a.data.filter((function(e){return!e.removed})).map((function(e){return r.a.createElement("div",{className:"conf-step__movie",key:e.title,style:{backgroundColor:te[e.title]},onClick:function(){return J(e.id)},onContextMenu:function(t){t.preventDefault(),function(e){S({data:{movie:e,title:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c \xab".concat(e.title,"\xbb?\n        \u0412\u0441\u0435 \u0441\u0435\u0430\u043d\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u0441\u043d\u044f\u0442\u044b, \u0430 \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u0430\u043d\u043d\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u044b")}}),O()}(e)},role:"button",tabIndex:0,onKeyPress:function(t){"Enter"===t.key&&J(e.id)}},r.a.createElement("img",{className:"conf-step__movie-poster",alt:"poster",src:"".concat(/data:image\/*/.test(e.posterLink)?"":"".concat("https://alex-m18-ffs21.herokuapp.com","/")).concat(e.posterLink)}),r.a.createElement("h3",{className:"conf-step__movie-title"},e.title),r.a.createElement("p",{className:"conf-step__movie-duration"},"".concat(e.duration," \u043c\u0438\u043d\u0443\u0442")))}))),r.a.createElement("p",{className:"conf-step__paragraph"},"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0430\u043d\u0441\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u0444\u0438\u043b\u044c\u043c"),r.a.createElement("div",{className:"conf-step__seances",style:{marginTop:"0px"}},r.a.createElement("p",{className:"conf-step__paragraph"},"\u0421\u0435\u0442\u043a\u0430 \u043d\u0430 \u0434\u0430\u0442\u0443:",r.a.createElement("input",{className:"conf-step__paragraph",type:"date",value:h.date.format(R.a.HTML5_FMT.DATE),onChange:function(e){var t=R()(e.target.value,R.a.HTML5_FMT.DATE);V(t)},min:R()().format(R.a.HTML5_FMT.DATE),max:R()().add(3,"weeks").subtract(1,"day").format(R.a.HTML5_FMT.DATE)})),t.data.map((function(e){return r.a.createElement("div",{className:"conf-step__seances-hall",key:Object(f.a)()},r.a.createElement("h3",{className:"conf-step__seances-title"},e.title),r.a.createElement("div",{className:"conf-step__seances-timeline"},h&&h.data.filter((function(t){return t.hallID===e.id&&!t.removed})).filter((function(e){return R()(e.date).isBetween(h.date,R()(h.date).add(1,"day"),void 0,"[)")})).map((function(e){return r.a.createElement("div",{className:"conf-step__seances-movie",key:Object(f.a)(),style:{width:"".concat(a.data.find((function(t){return t.id===e.movieID})).duration/X*100,"%"),backgroundColor:te[a.data.find((function(t){return t.id===e.movieID})).title],left:"".concat(R()(e.date).diff(h.date,"minutes")/X*100,"%")},title:"".concat(R()(e.date).format("DD.MM.YYYY, HH:mm")),role:"button",tabIndex:0,onClick:function(){return Y(e)},onKeyPress:function(t){"Enter"===t.key&&Y(e)}},r.a.createElement("p",{className:"conf-step__seances-movie-title"},a.data.find((function(t){return t.id===e.movieID})).title),r.a.createElement("p",{className:"conf-step__seances-movie-start"},R()(e.date).format("HH:mm")))}))))}))),r.a.createElement("p",{className:"conf-step__paragraph",style:{marginTop:"0px"}},"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u0441\u0435\u0430\u043d\u0441 \u0434\u043b\u044f \u0435\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f"),r.a.createElement("p",{className:"conf-step__paragraph",style:{marginTop:"0px"}},"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u043b\u044f \u0437\u0430\u043b\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u0442\u043a\u0440\u044b\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0436\u0438, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"),r.a.createElement("fieldset",{className:"conf-step__buttons text-center"},r.a.createElement(_,{className:"conf-step__button conf-step__button-regular",title:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:w}),r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",onClick:function(){u(a.data.filter((function(e){return!e.id||e.removed})))}},a.saving&&"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0444\u0438\u043b\u044c\u043c\u044b...",h.saving&&"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0441\u0435\u0430\u043d\u0441\u044b...",!(a.saving||h.saving)&&!(a.savingSuccess||h.savingSuccess)&&!(a.savingError||h.savingError)&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",h.savingSuccess&&"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!",(a.savingError||h.savingError)&&"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435"))),a.addForm.show&&r.a.createElement(A,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",fields:[{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",type:"text",name:"title",value:a.addForm.data.title,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \xab\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d \u041a\u0435\u0439\u043d\xbb",required:!0},{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",type:"text",name:"description",value:a.addForm.data.description,placeholder:"",required:!0},{title:"\u0421\u0442\u0440\u0430\u043d\u0430",type:"text",name:"origin",value:a.addForm.data.origin,placeholder:"\u0420\u043e\u0441\u0441\u0438\u044f",required:!0},{title:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432 \u043c\u0438\u043d\u0443\u0442\u0430\u0445",type:"number",name:"duration",value:a.addForm.data.duration,placeholder:"90",required:!0,min:1,step:1},{title:"\u041f\u043e\u0441\u0442\u0435\u0440 (\u043d\u0435 \u0431\u043e\u043b\u0435\u0435 2 Mb)",type:"file",name:"posterFiles",files:a.addForm.data.posterFiles,required:!0,accept:"image/*",onChange:function(e){var t=new FileReader;t.onload=function(){return i({posterTitle:e[0].name,posterLink:t.result,posterFiles:e})},t.readAsDataURL(e[0])},maxSize:2097152}],submitTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c",onChange:Q,onSubmit:G,onClose:l}),h.addForm.show&&r.a.createElement(A,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0430\u043d\u0441\u0430",fields:[{title:"\u0417\u0430\u043b",type:"option",options:t.data.map((function(e){return{value:e.id,title:e.title}})),name:"hallID",value:h.addForm.data.hallID,required:!0},{title:"\u0414\u0430\u0442\u0430 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0435\u0430\u043d\u0441\u0430",type:"datetime-local",value:R()(h.addForm.data.date).format("YYYY-MM-DDTHH:mm"),name:"date",required:!0}],submitTitle:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u0430\u043d\u0441",onChange:K,onSubmit:B,onClose:j}),a.removeForm.show&&r.a.createElement(A,{title:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u0430",fields:[{title:a.removeForm.data.title,type:"message"}],submitTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onSubmit:function(){var e=a.removeForm.data.movie;h.data.filter((function(t){return t.movieID===e.id})).forEach((function(e){return P(e)})),v(e),b()},onClose:b}),h.removeForm.show&&r.a.createElement(A,{title:"\u0421\u043d\u044f\u0442\u0438\u0435 \u0441 \u0441\u0435\u0430\u043d\u0441\u0430",fields:[{title:h.removeForm.data.title,type:"message"}],submitTitle:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onSubmit:function(){P(h.removeForm.data.seance),k()},onClose:k}))}));function H(e){var t=e.halls,a=e.onUpdate,c=e.hall,o=e.hallID,l=e.onChangeHall,i=e.seances;Object(n.useEffect)((function(){return t.data.length?t.data.map((function(e){return e.id})).includes(o)?l(t.data.find((function(e){return e.id===o}))):l(t.data[0]):l(),function(){}}),[t,o,l]);return r.a.createElement("section",{className:"conf-step"},r.a.createElement(g,{title:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438"}),r.a.createElement("div",{className:"conf-step__wrapper"},r.a.createElement(y,{groupName:"sales-hall",title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043b:",data:t.data,checked:o,onChange:function(e){l(t.data.find((function(t){return t.id===e})))}}),c&&r.a.createElement("div",{className:"conf-step__wrapper text-center"},r.a.createElement(_,{className:"conf-step__button conf-step__button-accent",onClick:function(){if((!t||!t.updating)&&c){if(!c.sale&&!i.data.find((function(e){return e.hallID===o})))return void alert("\u041e\u0448\u0438\u0431\u043a\u0430! \u041d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438 - \u0432 \u0437\u0430\u043b\u0435 \u043d\u0435\u0442 \u0441\u0435\u0430\u043d\u0441\u043e\u0432");a(Object(p.a)(Object(p.a)({},c),{},{sale:!c.sale}))}}},!Boolean(c.sale)&&t.updating&&!t.updatingError&&"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0430\u0436\u0438...",Boolean(c.sale)&&t.updating&&!t.updatingError&&"\u0417\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0430\u0436\u0438...",Boolean(c.sale)&&!t.updating&&!t.updatingError&&"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u0431\u0438\u043b\u0435\u0442\u043e\u0432",!Boolean(c.sale)&&!t.updating&&!t.updatingError&&"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0443 \u0431\u0438\u043b\u0435\u0442\u043e\u0432",t.updatingError&&"\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0449\u0435"))))}H.defaultProps={halls:null,hall:null,onUpdate:function(){}};var P=Object(l.b)((function(e){return Object(p.a)(Object(p.a)({},e.openSale),{},{seances:e.seances})}),(function(e){return{onChangeHall:function(t){return e({type:"ADMIN_OPEN_SALES_CHANGE_HALL",payload:t})}}}))(H);var V=Object(l.b)((function(e){return{halls:e.halls}}),(function(e){return{getHalls:function(){return e({type:"ADMIN_HALLS_REQUEST"})},onRemove:function(t){return e({type:"ADMIN_HALLS_REMOVE_REQUEST",payload:t})},onAdd:function(t){return e(function(e){return{type:"ADMIN_HALLS_ADD_REQUEST",payload:e}}(t))},onUpdate:function(t){return e({type:"ADMIN_HALLS_UPDATE_REQUEST",payload:t})},clearUpdateSucces:function(){return e({type:"ADMIN_HALLS_UPDATE_SUCCESS_CLEAR"})}}}))((function(e){var t=e.halls,a=e.getHalls,c=e.onRemove,o=e.onAdd,l=e.onUpdate,i=e.clearUpdateSucces;return Object(n.useEffect)((function(){return a(),function(){}}),[a]),Object(n.useEffect)((function(){return t.updatingSuccess&&setTimeout(i,1e3),function(){}}),[t,i]),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{halls:t,onAdd:o,onRemove:c}),r.a.createElement(I,{halls:t,onUpdate:l}),r.a.createElement(M,{halls:t,onUpdate:l}),r.a.createElement(k,{halls:t}),r.a.createElement(P,{halls:t,onUpdate:l}))}));function w(e){var t=e.loading,a=e.error,n=e.onSubmit,c="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f";return t&&(c="\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),a&&(c="\u041e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0435\u0448\u0435"),r.a.createElement("section",{className:"login"},r.a.createElement("header",{className:"login__header"},r.a.createElement("h2",{className:"login__title"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f")),r.a.createElement("div",{className:"login__wrapper"},r.a.createElement("form",{className:"login__form",onSubmit:function(e){e.preventDefault(),n({email:e.target.mail.value,password:e.target.pwd.value})},acceptCharset:"utf-8"},r.a.createElement("label",{className:"login__label",htmlFor:"mail"},"E-mail",r.a.createElement("input",{className:"login__input",type:"mail",placeholder:"example@domain.xyz",name:"mail",required:!0})),r.a.createElement("label",{className:"login__label",htmlFor:"pwd"},"\u041f\u0430\u0440\u043e\u043b\u044c",r.a.createElement("input",{className:"login__input",type:"password",placeholder:"",name:"pwd",required:!0})),r.a.createElement("div",{className:"text-center"},r.a.createElement("input",{value:c,type:"submit",className:"login__button"})))))}w.defaultProps={loading:!1,error:null};var x=w;var Q='\n  background-image: url("'.concat(d.a,'");\n  background-color: rgba(0, 0, 0, 0.5);\n  background-blend-mode: multiply;\n  background-size: cover;\n  background-attachment: fixed;\n  counter-reset: num;\n'),K={color:"#FFFFFF",textTransform:"uppercase"},z={margin:0,fontWeight:900,fontSize:"3.4rem"},G={fontWeight:100},B={fontSize:"1rem",letterSpacing:"0.46em"};function J(e){var t=e.user,a=e.loading,c=e.error,o=e.onLogin,l=Object(s.f)();Object(n.useEffect)((function(){return document.body.style.cssText=Q,function(){document.body.style.cssText=""}}),[]);return r.a.createElement("div",{className:"admin-page"},r.a.createElement("header",{className:"page-header",style:K},r.a.createElement("h1",{className:"page-header__title",onClick:function(){l.push("/")},onKeyPress:function(e){"Enter"===e.key&&l.push("/")},style:z},"\u0418\u0434\u0451\u043c",r.a.createElement("span",{style:G},"\u0432"),"\u043a\u0438\u043d\u043e"),r.a.createElement("span",{className:"page-header__subtitle",style:B},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0440\u0440\u0441\u043a\u0430\u044f")),r.a.createElement("main",{className:"conf-steps"},!t&&r.a.createElement(x,{onSubmit:function(e){o(e)},loading:a,error:c}),t&&r.a.createElement(V,null)))}J.defaultProps={user:null,error:null};var Y=Object(l.b)((function(e){return{user:e.user.data,loading:e.user.loading,error:e.user.error}}),(function(e){return{onLogin:function(t){return e(function(e){return{type:"USER_LOGIN_REQUEST",payload:e}}(t))}}}))(J);a(86),a(87);function q(e){var t=e.date,a=e.onChange,n=R()(t).subtract(R()().startOf("day")).dayOfYear()-1;n<5&&(n=5);for(var c=[0],o=4;o>=0;o-=1)c.push(n-o);var l=c.map((function(e){var t=R()().add(e,"days");return{dayDate:t,day:t.format("D")}})),i=function(e){return a(R()(e).startOf("day"))},s=function(){return a(R()(t).add(1,"day").startOf("day"))};return r.a.createElement("nav",{className:"page-nav"},l.map((function(e){return r.a.createElement("div",{role:"button",key:e.day,tabIndex:0,className:q.getClassName(e.dayDate,t),onClick:function(){return i(e.dayDate)},onKeyPress:function(t){"Enter"===t.key&&i(e.dayDate)}},r.a.createElement("span",{className:"page-nav__day-week"},q.weekDayToString(e.dayDate)),r.a.createElement("span",{className:"page-nav__day-number"},e.day))})),n<13&&r.a.createElement("div",{className:"page-nav__day page-nav__day_next",role:"button",tabIndex:0,onClick:s,onKeyPress:function(e){"Enter"===e.key&&s()}}))}function W(e){var t=e.movie;return r.a.createElement("section",{className:"movie"},r.a.createElement("div",{className:"movie__info"},r.a.createElement("div",{className:"movie__poster"},r.a.createElement("img",{className:"movie__poster-image",alt:t.posterTitle,src:"".concat(/data:image\/*/.test(t.posterLink)?"":"".concat("https://alex-m18-ffs21.herokuapp.com","/")).concat(t.posterLink)})),r.a.createElement("div",{className:"movie__description"},r.a.createElement("h2",{className:"movie__title"},t.title),r.a.createElement("p",{className:"movie__synopsis"},t.description),r.a.createElement("p",{className:"movie__data"},r.a.createElement("span",{className:"movie__data-duration"},"".concat(t.duration," \u043c\u0438\u043d\u0443\u0442, ")),r.a.createElement("span",{className:"movie__data-origin"},t.origin)))),t.halls.filter((function(e){return e.seances.length})).sort((function(e,t){return e.title>t.title?1:-1})).map((function(e){return r.a.createElement("div",{className:"movie-seances__hall",key:e.id},r.a.createElement("h3",{className:"movie-seances__hall-title"},e.title),r.a.createElement("ul",{className:"movie-seances__list"},e.seances.sort((function(e,t){return R()(e.date).isAfter(R()(t.date))?1:-1})).map((function(e){return r.a.createElement("li",{className:"movie-seances__time-block",key:e.id},r.a.createElement(i.b,{to:"/hall/".concat(e.id),className:"movie-seances__time"},e.time))}))))})))}R.a.locale("ru"),q.weekDayToString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R()(),t=e.format("ddd");return t[0].toUpperCase()+t.slice(1)},q.getClassName=function(e,t){return"\n  page-nav__day \n  ".concat(e.startOf("day").isSame(R()().startOf("day"))?"page-nav__day_today":""," \n  ").concat(e.startOf("day").isSame(R()(t).startOf("day"))?"page-nav__day_chosen":""," \n  ").concat([6,0].includes(R()(e).day())?"page-nav__day_weekend":"","\n")},q.defaultProps={date:R()().startOf("day"),onChange:function(){}};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:"CHANGE_CLIENT_STATE",payload:e}}function Z(){var e=Object(s.f)(),t=Object(l.c)(),a=Object(l.d)((function(e){return e.client})).chosenDate,c=Object(l.d)((function(e){return e.clientSeances})).seances,o=Object(l.d)((function(e){return e.clientHalls})).halls,i=Object(l.d)((function(e){return e.clientMovies})).movies;Object(n.useEffect)((function(){return t(X({chosenSeance:null,chosenSeats:null})),function(){t(X({chosenSeance:null,chosenSeats:null})),t({type:"CLIENT_HALLS_CLEAR"}),t({type:"CLIENT_MOVIES_CLEAR"}),t({type:"CLIENT_SEANCES_CLEAR"})}}),[t]),Object(n.useEffect)((function(){return t({type:"CLIENT_SEANCES_REQUEST",payload:{date:a}.date}),function(){}}),[a,t]),Object(n.useEffect)((function(){return c?(t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"CLIENT_HALLS_REQUEST",payload:e}}(Array.from(new Set(c.map((function(e){return e.hallID})))))),t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"CLIENT_MOVIES_REQUEST",payload:e}}(Array.from(new Set(c.map((function(e){return e.movieID})))))),function(){}):function(){}}),[c,t]);var u=c&&i&&o?i.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{halls:o.filter((function(t){return c.find((function(a){return a.movieID===e.id&&a.hallID===t.id}))})).map((function(t){return Object(p.a)(Object(p.a)({},t),{},{seances:c.filter((function(e){return R()(e.date).isAfter(R()())})).filter((function(a){return a.movieID===e.id&&a.hallID===t.id})).map((function(e){return{id:e.id,time:R()(e.date).format("HH:mm")}}))})}))})})):null,d=function(a){t(X({chosenSeance:{id:a}})),e.push("/hall")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{date:a,onChange:function(e){return t(X({chosenDate:e}))}}),r.a.createElement("main",null,!u&&r.a.createElement(E,null),u&&u.filter((function(e){return e.halls.filter((function(e){return e.seances.length})).length})).map((function(e){return r.a.createElement(W,{movie:e,onSeanceClick:d,key:e.id})}))))}function $(){var e,t,a,c=Object(s.f)(),o=Object(l.c)(),i=Object(s.g)().seanceID,u=Object(l.d)((function(e){return e.client})).chosenSeance;Object(n.useEffect)((function(){return u&&i===u.id||(o(X({chosenSeance:{id:i}})),o(function(e){return{type:"CLIENT_SEANCE_REQUEST",payload:e}}(i))),function(){}}),[i,o]);var d=[];u&&(e=u.movie,t=u.hall,a=u.seats);var p,m=[];if(t)for(var f=0,O=0;O<t.rows;O+=1){for(var b=[],S=0;S<t.cols;S+=1)b.push(a[f]),f+=1;m.push(b)}a&&(p=(d=a.filter((function(e){return e.selected}))).reduce((function(e,a){return e+("standart"===a.state?t.price:t.priceVip)}),0));var A=function(e){var t,n=a.find((function(t){return t.id===e}));n&&(["disabled","taken"].includes(n.state)||o({type:"CLIENT_CHANGE_SEAT_SELECTION",payload:{id:(t={id:e,selected:!n.selected}).id,selected:t.selected}}))};return r.a.createElement(r.a.Fragment,null,!(u&&e&&t&&a)&&r.a.createElement(E,null),u&&e&&t&&a&&r.a.createElement("main",null,r.a.createElement("section",{className:"buying"},r.a.createElement("div",{className:"buying__info"},r.a.createElement("div",{className:"buying__info-description"},r.a.createElement("h2",{className:"buying__info-title"},e.title),r.a.createElement("p",{className:"buying__info-start"},"\u041d\u0430\u0447\u0430\u043b\u043e \u0441\u0435\u0430\u043d\u0441\u0430: ".concat(R()(u.date).format("HH:mm"))),r.a.createElement("p",{className:"buying__info-hall"},t.title))),r.a.createElement("div",{className:"buying-scheme"},r.a.createElement("div",{className:"buying-scheme__wrapper"},m.map((function(e,t){return r.a.createElement("div",{className:"buying-scheme__row",key:"row".concat(t)},e.map((function(e){return r.a.createElement("span",{role:"button",tabIndex:0,className:"buying-scheme__chair buying-scheme__chair_".concat(e.selected?"selected":e.state," "),key:e.id,onClick:function(){return A(e.id)},onKeyPress:function(t){"Enter"===t.key&&A(e.id)}})})))}))),r.a.createElement("div",{className:"buying-scheme__legend"},r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"buying-scheme__legend-price"},r.a.createElement("span",{className:"buying-scheme__chair buying-scheme__chair_standart"}),"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e (",r.a.createElement("span",{className:"buying-scheme__legend-value"},t.price),"\u0440\u0443\u0431)"),r.a.createElement("p",{className:"buying-scheme__legend-price"},r.a.createElement("span",{className:"buying-scheme__chair buying-scheme__chair_vip"}),"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e VIP (",r.a.createElement("span",{className:"buying-scheme__legend-value"},t.priceVip),"\u0440\u0443\u0431)")),r.a.createElement("div",{className:"col"},r.a.createElement("p",{className:"buying-scheme__legend-price"},r.a.createElement("span",{className:"buying-scheme__chair buying-scheme__chair_taken"}),"\u0417\u0430\u043d\u044f\u0442\u043e"),r.a.createElement("p",{className:"buying-scheme__legend-price"},r.a.createElement("span",{className:"buying-scheme__chair buying-scheme__chair_selected"}),"\u0412\u044b\u0431\u0440\u0430\u043d\u043e".concat(p?" \u043d\u0430 ".concat(p," \u0440\u0443\u0431."):""))))),d.length&&r.a.createElement(_,{title:"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:function(){d.length&&c.push("/payment")}}))))}function ee(e){var t=e.title;return r.a.createElement("header",{className:"tichet__check"},r.a.createElement("h2",{className:"ticket__check-title"},t))}function te(){var e,t,a,c,o,i,u=Object(s.f)(),d=Object(l.c)(),p=Object(l.d)((function(e){return e.client})).chosenSeance,m=Object(l.d)((function(e){return e.payment})),f=m.id,O=m.loading,b=m.error;Object(n.useEffect)((function(){return function(){d({type:"TICKET_PAYMENT_CLEAR"})}}),[d]),Object(n.useEffect)((function(){return f&&u.push("/ticket/".concat(f)),function(){}}),[f,u]),p&&(e=p.date,t=p.movie,a=p.hall,c=p.seats);var S="";c&&(o=c.filter((function(e){return e.selected})).reduce((function(e,t){return e+("standart"===t.type?a.price:a.priceVip)}),0),S=(i=c.filter((function(e){return e.selected}))).map((function(e){return e.number})).join(", "));return r.a.createElement("main",null,r.a.createElement("section",{className:"ticket"},!i&&r.a.createElement(_,{title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b",onClick:function(){return u.push("/")}}),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{title:"\u0412\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u0431\u0438\u043b\u0435\u0442\u044b:"}),r.a.createElement("div",{className:"ticket__info-wrapper"},r.a.createElement("p",{className:"ticket__info"},"\u041d\u0430 \u0444\u0438\u043b\u044c\u043c: ",r.a.createElement("span",{className:"ticket__details ticket__title"},t.title)),r.a.createElement("p",{className:"ticket__info"},"\u041c\u0435\u0441\u0442\u0430: ",r.a.createElement("span",{className:"ticket__details ticket__chairs"},S)),r.a.createElement("p",{className:"ticket__info"},"\u0412 \u0437\u0430\u043b\u0435: ",r.a.createElement("span",{className:"ticket__details ticket__hall"},a.title)),r.a.createElement("p",{className:"ticket__info"},"\u041d\u0430\u0447\u0430\u043b\u043e \u0441\u0435\u0430\u043d\u0441\u0430: ",r.a.createElement("span",{className:"ticket__details ticket__start"},R()(e).format("DD.MM.yyyy HH:mm"))),r.a.createElement("p",{className:"ticket__info"},"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",r.a.createElement("span",{className:"ticket__details ticket__cost"},o)," \u0440\u0443\u0431\u043b\u0435\u0439"),!b&&O&&r.a.createElement(E,null),!b&&!O&&r.a.createElement(_,{title:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",onClick:function(){if(i.length){var e=i.map((function(e){return e.id}));d(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:"TICKET_PAYMENT_REQUEST",payload:e}}(e))}}}),b&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"ticket__hint"},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043c\u0435\u0441\u0442\u0430 \u0443\u0436\u0435 \u0437\u0430\u043d\u044f\u0442\u044b. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0435\u0440\u043d\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u044b\u0431\u043e\u0440\u0430 \u043c\u0435\u0441\u0442"),r.a.createElement("br",null),r.a.createElement(_,{title:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",onClick:function(){return u.push("/hall/".concat(p.id))}})),r.a.createElement("p",{className:"ticket__hint"},"\u041f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0431\u0438\u043b\u0435\u0442 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u043d\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0438\u0434\u0451\u0442 \u0432\u0430\u043c \u043d\u0430 \u043f\u043e\u0447\u0442\u0443. \u041f\u043e\u043a\u0430\u0436\u0438\u0442\u0435 QR-\u043a\u043e\u0434 \u043d\u0430\u0448\u0435\u043c\u0443 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0451\u0440\u0443 \u0443 \u0432\u0445\u043e\u0434\u0430 \u0432 \u0437\u0430\u043b."),r.a.createElement("p",{className:"ticket__hint"},"\u041f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430!")))))}var ae=a(65),ne=a.n(ae);function re(){var e,t,a,c,o=Object(l.c)(),i=Object(s.f)(),u=Object(l.d)((function(e){return e.ticket})),d=u.data,p=u.loading,m=u.error,f=Object(s.g)().ticketID;Object(n.useEffect)((function(){return function(){o({type:"TICKET_CLEAR"})}}),[o]),Object(n.useEffect)((function(){return f?(o({type:"TICKET_REQUEST",payload:f}),function(){}):function(){}}),[o,f]),d&&(e=d.movie,t=d.hall,a=d.seats),a&&(c=a.slice(1).reduce((function(e,t){return"".concat(e,", ").concat(t)}),a[0]));return r.a.createElement("main",null,r.a.createElement("section",{className:"ticket"},r.a.createElement(ee,{title:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0431\u0438\u043b\u0435\u0442"}),r.a.createElement("div",{className:"ticket__info-wrapper"},!m&&p&&r.a.createElement(E,null),!m&&!p&&d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"ticket__info"},"\u041d\u0430 \u0444\u0438\u043b\u044c\u043c: ",r.a.createElement("span",{className:"ticket__details ticket__title"},e.title)),r.a.createElement("p",{className:"ticket__info"},"\u041c\u0435\u0441\u0442\u0430: ",r.a.createElement("span",{className:"ticket__details ticket__chairs"},c)),r.a.createElement("p",{className:"ticket__info"},"\u0412 \u0437\u0430\u043b\u0435: ",r.a.createElement("span",{className:"ticket__details ticket__hall"},t.title)),r.a.createElement("p",{className:"ticket__info"},"\u041d\u0430\u0447\u0430\u043b\u043e \u0441\u0435\u0430\u043d\u0441\u0430: ",r.a.createElement("span",{className:"ticket__details ticket__start"},R()(e.date).format("DD.MM.yyyy, HH:mm"))),f&&r.a.createElement(ne.a,{className:"ticket__info-qr",value:window.location.href,level:"M",bgColor:"#FFFFFF00"}),r.a.createElement("p",{className:"ticket__hint"},"\u041f\u043e\u043a\u0430\u0436\u0438\u0442\u0435 QR-\u043a\u043e\u0434 \u043d\u0430\u0448\u0435\u043c\u0443 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u0443 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."),r.a.createElement("p",{className:"ticket__hint"},"\u041f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430!")),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"ticket__info"},"\u041e\u0448\u0438\u0431\u043a\u0430! ",r.a.createElement("span",{className:"ticket__details ticket__title"},"\u0411\u0438\u043b\u0435\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")),r.a.createElement(_,{title:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b",onClick:function(){return i.push("/")}})))))}var ce=a(66);function oe(){return r.a.createElement("section",{className:"top-sales"},r.a.createElement("h2",{className:"text-center"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement("p",null,"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0442\u0430\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430!"))}var le='\n  background-image: url("'.concat(a.n(ce).a,'");\n  background-size: cover;\n  background-attachment: fixed;\n  background-position: right;\n'),ie={padding:"1.4rem"},se={margin:0,fontWeight:900,fontSize:"3.4rem",color:"#FFFFFF",textTransform:"uppercase"},ue={fontWeight:100};function de(){var e=Object(s.h)().path,t=Object(s.f)();return Object(n.useEffect)((function(){return document.body.style.cssText=le,function(){document.body.style.cssText=""}}),[]),r.a.createElement("div",{className:"client-page"},r.a.createElement("header",{className:"page-header",style:ie},r.a.createElement("h1",{className:"page-header__title",onClick:function(){t.push("/")},onKeyPress:function(e){"Enter"===e.key&&t.push("/")},style:se},"\u0418\u0434\u0451\u043c",r.a.createElement("span",{style:ue},"\u0432"),"\u043a\u0438\u043d\u043e")),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:e,component:Z}),r.a.createElement(s.a,{path:"".concat(e,"hall/:seanceID"),component:$}),r.a.createElement(s.a,{path:"".concat(e,"ticket/:ticketID"),component:re}),r.a.createElement(s.a,{path:"".concat(e,"payment"),component:te}),r.a.createElement(s.a,{path:"*",component:oe})))}var pe=function(){return r.a.createElement(i.a,{basename:"/ffs21"},r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/admin",component:Y}),r.a.createElement(s.a,{path:"/",component:de}),r.a.createElement(s.a,{path:"*",component:oe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=a(28),Ee=a(98),_e={chosenDate:R()().startOf("day"),chosenSeance:null};var fe={data:null,loading:!1,error:null};var Oe={seances:null,loading:!1,error:null};var be={halls:null,loading:!1,error:null};var Se={movies:null,loading:!1,error:null};var Ae={id:null,loading:!1,error:null};var ve={data:null,loading:!1,error:null};var ge={data:[],loading:!1,loadingError:null,showAddForm:!1,addFormData:"",adding:!1,addingError:null,updating:!1,updatingError:null,updatingSuccess:!1};var he={showAddForm:!1,showRemoveForm:!1,addFormData:{title:""},removeFormData:{id:"",title:""}};var Ne={hall:null,hallID:"",states:[],loading:!1,loadingError:null,updating:!1,updatingError:null,updatingSuccess:!1};var ye={hall:null,hallID:""};var je={data:[],addForm:{show:!1,data:{title:"",description:"",origin:"",duration:90,posterTitle:"",posterLink:"",posterFiles:void 0}},removeForm:{show:!1,data:{movie:{title:"",id:"",duration:0,posterTitle:"",posterLink:""},title:""}},loading:!1,loadingError:null,loadingSuccess:!1,saving:!1,savingError:null,savingSuccess:!1};var Ce={data:[],date:R()().startOf("day"),addForm:{show:!1,data:{movieID:"",hallID:"",date:R()().add(2,"hour").startOf("hour").format(R.a.HTML5_FMT.DATETIME_LOCAL),fields:[]}},removeForm:{show:!1,data:{seance:{movieID:"",hallID:"",date:""},title:""}},loading:!1,loadingError:null,saving:!1,savingError:null,savingSuccess:!1};var Ie={hall:null,hallID:""};var De=Object(me.c)({halls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_HALLS_CLEAR":return ge;case"ADMIN_HALLS_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,loadingError:null,adding:!1,addingError:null,updating:!1,updatingError:null,updatingSuccess:!1});case"ADMIN_HALLS_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,loadingError:a});case"ADMIN_HALLS_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{data:n,loading:!1,loadingError:null});case"ADMIN_HALLS_REMOVE_REQUEST":var r=t.payload;return Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===r?Object(p.a)(Object(p.a)({},e),{},{removing:!0,removingError:null}):e}))});case"ADMIN_HALLS_REMOVE_SUCCESS":var c=t.payload;return Object(p.a)(Object(p.a)({},e),{},{data:e.data.filter((function(e){return e.id!==c}))});case"ADMIN_HALLS_REMOVE_FAILURE":var o=t.payload,l=o.err,i=o.id;return Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===i?Object(p.a)(Object(p.a)({},e),{},{removing:!1,removingError:l}):e}))});case"ADMIN_HALLS_ADD_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{adding:!0,addingError:null});case"ADMIN_HALLS_ADD_SUCCESS":var s=t.payload.hall;return Object(p.a)(Object(p.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[s]),showAddForm:!1,addFormData:"",adding:!1,addingError:null});case"ADMIN_HALLS_ADD_FAILURE":var u=t.payload.err;return Object(p.a)(Object(p.a)({},e),{},{adding:!1,addingError:u});case"ADMIN_HALLS_UPDATE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{updating:!0,updatingError:null,updatingSuccess:!1});case"ADMIN_HALLS_UPDATE_SUCCESS":var d=t.payload.hall;return Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===d.id?d:e})),updating:!1,updatingError:null,updatingSuccess:!0});case"ADMIN_HALLS_UPDATE_FAILURE":var m=t.payload.err;return Object(p.a)(Object(p.a)({},e),{},{updating:!1,updatingError:m,updatingSuccess:!1});case"ADMIN_HALLS_UPDATE_SUCCESS_CLEAR":return Object(p.a)(Object(p.a)({},e),{},{updatingSuccess:!1});default:return e}},hallsControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_HALLS_ADD_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{showAddForm:!0});case"ADMIN_HALLS_ADD_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{showAddForm:!1});case"ADMIN_HALLS_ADD_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{addFormData:t.payload});case"ADMIN_HALLS_REMOVE_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{showRemoveForm:!0});case"ADMIN_HALLS_REMOVE_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{showRemoveForm:!1});case"ADMIN_HALLS_REMOVE_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{removeFormData:t.payload});default:return e}},seats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_SEATS_CHANGE_HALL":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{hall:a,hallID:a?a.id:""});case"ADMIN_SEATS_CHANGE_STATES":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{states:n});case"ADMIN_SEATS_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,loadingError:null});case"ADMIN_SEATS_FAILURE":var r=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,loadingError:r});case"ADMIN_SEATS_SUCCESS":var c=t.payload;return Object(p.a)(Object(p.a)({},e),{},{states:c,loading:!1,loadingError:null});case"ADMIN_SEATS_UPDATE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{updating:!0,updatingError:null,updatingSuccess:!1});case"ADMIN_SEATS_UPDATE_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{updating:!1,updatingError:null,updatingSuccess:!0});case"ADMIN_SEATS_UPDATE_FAILURE":var o=t.payload.err;return Object(p.a)(Object(p.a)({},e),{},{updating:!1,updatingError:o,updatingSuccess:!1});case"ADMIN_SEATS_UPDATE_SUCCESS_CLEAR":return Object(p.a)(Object(p.a)({},e),{},{updatingSuccess:!1});default:return e}},prices:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_PRICES_CHANGE_HALL":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{hall:a,hallID:a?a.id:""});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_MOVIES_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,loadingError:null,loadingSuccess:!1});case"ADMIN_MOVIES_FAILURE":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,loadingError:t.payload,loadingSuccess:!1});case"ADMIN_MOVIES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,loading:!1,loadingError:null,loadingSuccess:!0});case"ADMIN_MOVIES_SUCCESS_CLEAR":return Object(p.a)(Object(p.a)({},e),{},{loadingSuccess:!1});case"ADMIN_MOVIES_ADD":return Object(p.a)(Object(p.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[t.payload])});case"ADMIN_MOVIES_REMOVE":var a=t.payload;return a?a.id?Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===a.id?Object(p.a)(Object(p.a)({},e),{},{removed:!0}):e}))}):Object(p.a)(Object(p.a)({},e),{},{data:e.data.filter((function(e){return!(e.title===a.title)}))}):e;case"ADMIN_MOVIES_SAVE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{saving:!0,savingError:null,savingSuccess:!1});case"ADMIN_MOVIES_SAVE_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload.movies,saving:!1,savingError:null,savingSuccess:!0});case"ADMIN_MOVIES_SAVE_FAILURE":return Object(p.a)(Object(p.a)({},e),{},{saving:!1,savingError:t.payload.err});case"ADMIN_MOVIES_SAVE_SUCCESS_CLEAR":return Object(p.a)(Object(p.a)({},e),{},{savingSuccess:!1});case"ADMIN_MOVIES_ADD_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{show:!0})});case"ADMIN_MOVIES_ADD_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{show:!1})});case"ADMIN_MOVIES_ADD_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{data:Object(p.a)(Object(p.a)({},e.addForm.data),t.payload)})});case"ADMIN_MOVIES_REMOVE_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)({},e.removeForm),{},{show:!0})});case"ADMIN_MOVIES_REMOVE_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)({},e.removeForm),{},{show:!1})});case"ADMIN_MOVIES_REMOVE_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)(Object(p.a)({},e.removeForm),t.payload),{},{data:Object(p.a)(Object(p.a)({},e.removeForm.data),t.payload.data)})});default:return e}},seances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_SEANCES_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,loadingError:null});case"ADMIN_SEANCES_FAILURE":return Object(p.a)(Object(p.a)({},e),{},{loading:!1,loadingError:t.payload});case"ADMIN_SEANCES_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload,loading:!1,loadingError:null});case"ADMIN_SEANCES_ADD":var a=t.payload,n=R()(a.date,R.a.HTML5_FMT.DATETIME_LOCAL);if(!n.isValid())return e;var r={movieID:a.movieID,hallID:a.hallID,date:n.toISOString()};return Object(p.a)(Object(p.a)({},e),{},{data:[].concat(Object(L.a)(e.data),[r]).sort((function(e,t){return R()(e.date).isAfter(R()(t.date))?1:-1}))});case"ADMIN_SEANCES_REMOVE":var c=t.payload;return c?c.id?Object(p.a)(Object(p.a)({},e),{},{data:e.data.map((function(e){return e.id===c.id?Object(p.a)(Object(p.a)({},e),{},{removed:!0}):e}))}):Object(p.a)(Object(p.a)({},e),{},{data:e.data.filter((function(e){return!(e.movieID===c.movieID&&e.hallID===c.hallID&&e.date===c.date)}))}):e;case"ADMIN_SEANCES_SAVE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{saving:!0,savingError:null,savingSuccess:!1});case"ADMIN_SEANCES_SAVE_SUCCESS":return Object(p.a)(Object(p.a)({},e),{},{data:t.payload.seances,saving:!1,savingError:null,savingSuccess:!0});case"ADMIN_SEANCES_SAVE_FAILURE":return Object(p.a)(Object(p.a)({},e),{},{saving:!1,savingError:t.payload.err});case"ADMIN_SEANCES_SAVE_SUCCESS_CLEAR":return Object(p.a)(Object(p.a)({},e),{},{savingSuccess:!1});case"ADMIN_SEANCES_ADD_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{show:!0})});case"ADMIN_SEANCES_ADD_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{show:!1})});case"ADMIN_SEANCES_ADD_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{addForm:Object(p.a)(Object(p.a)({},e.addForm),{},{data:Object(p.a)(Object(p.a)({},e.addForm.data),t.payload)})});case"ADMIN_SEANCES_REMOVE_FORM_SHOW":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)({},e.removeForm),{},{show:!0})});case"ADMIN_SEANCES_REMOVE_FORM_HIDE":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)({},e.removeForm),{},{show:!1})});case"ADMIN_SEANCES_REMOVE_FORM_CHANGE":return Object(p.a)(Object(p.a)({},e),{},{removeForm:Object(p.a)(Object(p.a)(Object(p.a)({},e.removeForm),t.payload),{},{data:Object(p.a)(Object(p.a)({},e.removeForm.data),t.payload.data)})});case"ADMIN_SEANCES_CHANGE_DATE":return Object(p.a)(Object(p.a)({},e),{},{date:t.payload});default:return e}},openSale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADMIN_OPEN_SALES_CHANGE_HALL":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{hall:a,hallID:a?a.id:""});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,error:null});case"USER_LOGIN_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:a});case"USER_LOGIN_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{data:n,loading:!1,error:null});case"USER_LOGOUT":return fe;default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_CLIENT_STATE":return Object(p.a)(Object(p.a)({},e),t.payload);case"CLIENT_CHANGE_SEAT_SELECTION":var a=t.payload,n=a.id,r=a.selected,c=e.chosenSeance.seats.map((function(e){return e.id===n&&(e.selected=r),e}));return Object(p.a)(Object(p.a)({},e),{},{chosenSeance:Object(p.a)(Object(p.a)({},e.chosenSeance),{},{seats:c})});case"CLIENT_SEANCE_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,error:null});case"CLIENT_SEANCE_FAILURE":var o=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:o});case"CLIENT_SEANCE_SUCCESS":var l=t.payload;return Object(p.a)(Object(p.a)({},e),{},{chosenSeance:l,loading:!1,error:null});default:return e}},clientSeances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT_SEANCES_CLEAR":return Oe;case"CLIENT_SEANCES_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{seances:null,loading:!0,error:null});case"CLIENT_SEANCES_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:a});case"CLIENT_SEANCES_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{seances:n,loading:!1,error:null});default:return e}},clientHalls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT_HALLS_CLEAR":return be;case"CLIENT_HALLS_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{halls:null,loading:!0,error:null});case"CLIENT_HALLS_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:a});case"CLIENT_HALLS_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{halls:n,loading:!1,error:null});default:return e}},clientMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLIENT_MOVIES_CLEAR":return Se;case"CLIENT_MOVIES_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{movies:null,loading:!0,error:null});case"CLIENT_MOVIES_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:a});case"CLIENT_MOVIES_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{movies:n,loading:!1,error:null});default:return e}},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKET_PAYMENT_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{id:null,loading:!0,error:null});case"TICKET_PAYMENT_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{error:a,loading:!1});case"TICKET_PAYMENT_SUCCESS":var n=t.payload.id;return Object(p.a)(Object(p.a)({},e),{},{id:n,paymentLoading:!1,error:null});case"TICKET_PAYMENT_CLEAR":return Ae;default:return e}},ticket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TICKET_REQUEST":return Object(p.a)(Object(p.a)({},e),{},{data:null,loading:!0,error:null});case"TICKET_FAILURE":var a=t.payload;return Object(p.a)(Object(p.a)({},e),{},{error:a,loading:!1});case"TICKET_SUCCESS":var n=t.payload;return Object(p.a)(Object(p.a)({},e),{},{data:n,loading:!1,error:null});case"TICKET_CLEAR":return ve;default:return e}}}),Me=a(100),Te=a(69),Le=a(67),Fe=a(101),Re=a(95),Ue=a(96),ke=a(32),He=a(97),Pe=a(99),Ve=Object(Me.a)((function(e){return e.pipe(Object(Te.a)("CLIENT_SEANCE_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Fe.a.getJSON("".concat("https://alex-m18-ffs21.herokuapp.com","/api/getseancestate?seanceID=").concat(t)).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_SEANCE_SUCCESS",payload:e}}(e)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_SEANCE_FAILURE",payload:e}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("CLIENT_SEANCES_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/getseances"),method:"POST",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({fromDate:t.toISOString(),toDate:R()(t).add(1,"day").toISOString()})}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_SEANCES_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_SEANCES_FAILURE",payload:e}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("CLIENT_HALLS_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/gethalls"),method:"POST",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify(t)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_HALLS_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_HALLS_FAILURE",payload:e}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("CLIENT_MOVIES_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/getmovies"),method:"POST",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify(t)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_MOVIES_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"CLIENT_MOVIES_FAILURE",payload:e}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("TICKET_PAYMENT_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/payment"),method:"POST",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify(t)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"TICKET_PAYMENT_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"TICKET_PAYMENT_FAILURE",payload:e}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("TICKET_REQUEST"),Object(Re.a)((function(e){var t=e.payload;return Fe.a.getJSON("".concat("https://alex-m18-ffs21.herokuapp.com","/api/getticket?id=").concat(t)).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"TICKET_SUCCESS",payload:e}}(e)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"TICKET_FAILURE",payload:e}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_HALLS_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2)[1];return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/halls"),method:"GET",headers:{Authorization:t.user.data.token,"Content-Type":"Application/JSON"}}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ADMIN_HALLS_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ADMIN_HALLS_FAILURE",payload:e}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_HALLS_REMOVE_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/halls/").concat(r),method:"DELETE",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"}}).pipe(Object(Ue.a)(5),Object(ke.a)((function(){return function(e){return{type:"ADMIN_HALLS_REMOVE_SUCCESS",payload:e}}(r)})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e,t){return{type:"ADMIN_HALLS_REMOVE_FAILURE",payload:{err:e,id:t}}}(e,r))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_HALLS_ADD_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/halls"),method:"POST",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"},body:JSON.stringify(r)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_HALLS_ADD_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e){return{type:"ADMIN_HALLS_ADD_FAILURE",payload:{err:e}}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_HALLS_UPDATE_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/hall"),method:"PUT",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"},body:JSON.stringify(r)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_HALLS_UPDATE_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e){return{type:"ADMIN_HALLS_UPDATE_FAILURE",payload:{err:e}}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_SEATS_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1];return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/seats/").concat(a.payload),method:"GET",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"}}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ADMIN_SEATS_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"ADMIN_SEATS_FAILURE",payload:e}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_SEATS_UPDATE_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/seats"),method:"PUT",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"},body:JSON.stringify(r)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_SEATS_UPDATE_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e){return{type:"ADMIN_SEATS_UPDATE_FAILURE",payload:{err:e}}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_MOVIES_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2)[1];return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/movies"),method:"GET",headers:{Authorization:t.user.data.token,"Content-Type":"Application/JSON"}}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_MOVIES_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)({type:"ADMIN_MOVIES_FAILURE",payload:e})})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_MOVIES_SAVE_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/movies"),method:"POST",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"},body:JSON.stringify(r)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_MOVIES_SAVE_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e){return{type:"ADMIN_MOVIES_SAVE_FAILURE",payload:{err:e}}}(e))})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_SEANCES_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2)[1];return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/seances"),method:"GET",headers:{Authorization:t.user.data.token,"Content-Type":"Application/JSON"}}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return{type:"ADMIN_SEANCES_SUCCESS",payload:e.response}})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)({type:"ADMIN_SEANCES_FAILURE",payload:e})})))})))}),(function(e,t){return e.pipe(Object(Te.a)("ADMIN_SEANCES_SAVE_REQUEST"),Object(Pe.a)(t),Object(Re.a)((function(e){var t=Object(T.a)(e,2),a=t[0],n=t[1],r=a.payload;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/seances"),method:"POST",headers:{Authorization:n.user.data.token,"Content-Type":"Application/JSON"},body:JSON.stringify(r)}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(e){return{type:"ADMIN_SEANCES_SAVE_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return 401===e.status?Object(Le.a)({type:"USER_LOGOUT"}):Object(Le.a)(function(e){return{type:"ADMIN_SEANCES_SAVE_FAILURE",payload:{err:e}}}(e))})))})))}),(function(e){return e.pipe(Object(Te.a)("USER_LOGIN_REQUEST"),Object(Re.a)((function(e){var t=e.payload,a=t.email,n=t.password;return Object(Fe.a)({url:"".concat("https://alex-m18-ffs21.herokuapp.com","/api/login"),method:"POST",headers:{"Content-Type":"Application/JSON"},body:JSON.stringify({email:a,password:n})}).pipe(Object(Ue.a)(5),Object(ke.a)((function(e){return function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"USER_LOGIN_SUCCESS",payload:e}}(e.response)})),Object(He.a)((function(e){return Object(Le.a)(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:"USER_LOGIN_FAILURE",payload:e}}(e))})))})))})),we=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||me.d,xe=Object(Ee.a)(),Qe=Object(me.e)(De,we(Object(me.a)(xe)));xe.run(Ve);var Ke=Qe;o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:Ke},r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.e17cce8e.chunk.js.map